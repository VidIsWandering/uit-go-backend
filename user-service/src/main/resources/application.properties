# Active profile
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# Common configuration shared between profiles
spring.application.name=user-service
server.port=8080

# JPA/Hibernate
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# Logging
logging.level.org.springframework.security=INFO
logging.level.com.uitgo.userservice=INFO

# Redis Cache Configuration
spring.redis.host=${REDIS_HOST:localhost}
spring.redis.port=${REDIS_PORT:6379}
spring.cache.type=redis
spring.cache.redis.time-to-live=120000

## HikariCP Pool Tuning (Optimized for high concurrency)
spring.datasource.hikari.maximum-pool-size=400
spring.datasource.hikari.minimum-idle=20
spring.datasource.hikari.connection-timeout=5000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.leak-detection-threshold=60000
management.endpoints.web.exposure.include=health,info,prometheus
management.metrics.enable.hikari=true
management.metrics.tags.application=user-service
